// ===== MULTILINGUAL TRANSLATIONS =====
const translations = {
  en: {
    // Navigation
    nav: {
      home: "Home",
      about: "About me",
      work: "Work",
      contact: "Contact",
      // Mobile short versions
      homeMobile: "Home",
      aboutMobile: "About",
      workMobile: "Work",
      contactMobile: "Contact",
    },

    // Loading
    loading: "Loading",

    // Welcome Page
    welcome: {
      text: "Welcome to my portfolio",
    },

    // Home Page
    home: {
      greeting: "Hello, I'm",
      name: "Fironi<br />Habibzade",
      downloadCV: "Download CV",
    },

    // About Page
    about: {
      title: "About Me",
      greeting: "Hello, I'm",
      name: "Fironi<br />Habibzade",
      description:
        "Hello! I am a Full Stack Programmer with a strong passion for Startup business and building digital solutions. I work in multiple technology stacks including C, Python, .Net, React, Flutter, etc. - delivering applications with clean and scalable architectures. In addition to my personal development, I am the founder of a startup project called MyHomeTeck - a rental tracking and management system that is currently in development and will be launched in the Turkish market to modernize property management. In this technological journey, I am constantly developing myself as a leader, entrepreneur and programmer. At the same time, I strive to turn real problems into creative and technology-based solutions. I approach each project with a focus on innovation, simplicity and real impact. In short, for me, coding is just a tool - the most important thing is to implement my ideas!",
      skills: "Technical Skills",
    },

    // Work Page
    work: {
      title: "Work",
      subtitle: "Here are some of my recent projects",
      viewWork: "View Work",
      learnMore: "Learn More",
      completedProject: "Completed Project",
      projectOnHold: "Project On Hold",
      projectClosedByCompany: "Project closed by company",
      tapToMore: "Tap to more",
    },

    // Contact Page
    contact: {
      title: "Contact",
      subtitle: "Let's connect and bring your ideas to life together.",
      getInTouch: "Get In Touch",
      form: {
        description:
          "If you'd like to work together or learn more about what I do, feel free to reach out. I'm happy to connect and discuss further.",
        email: "Email",
        emailPlaceholder: "Please enter your email",
        mobile: "Mobile",
        mobilePlaceholder: "+90 555 555 55 55",
        message: "Message",
        messagePlaceholder: "Enter your message",
        submit: "Submit",
        back: "Back",
      },
      thankYou: {
        title: "Thank You!",
        backToContact: "Back",
      },
    },
  },

  az: {
    // Navigation
    nav: {
      home: "∆èsas",
      about: "Haqqƒ±mda",
      work: "ƒ∞≈ül…ôrim",
      contact: "∆èlaq…ô",
      // Mobile short versions
      homeMobile: "∆èsas",
      aboutMobile: "Haqqƒ±mda",
      workMobile: "ƒ∞≈ül…ôrim",
      contactMobile: "∆èlaq…ô",
    },

    // Loading
    loading: "Y√ºkl…ônir",

    // Welcome Page
    welcome: {
      text: "Portfolioma xo≈ü g…ôlmisiniz",
    },

    // Home Page
    home: {
      greeting: "Salam, m…ôn",
      name: "Fironi<br />H…ôbibzad…ôy…ôm",
      downloadCV: "CV Y√ºkl…ô",
    },

    // About Page
    about: {
      title: "Haqqƒ±mda",
      greeting: "Salam, m…ôn",
      name: "Fironi<br />H…ôbibzad…ôy…ôm",
      description:
        "Salamlar! M…ôn Startup biznesin…ô v…ô r…ôq…ômsal h…ôll…ôrin qurulmasƒ±na g√ºcl√º h…ôv…ôsi olan bir Full Stack Proqram√ßƒ±yam. C, Python, .Net, React, Flutter v…ô.s daxil olmaqla bir √ßox texnoloji yƒ±ƒüƒ±nda i≈ül…ôyir…ôm - t…ômiz v…ô miqyaslana bil…ôn arxitektura il…ô t…ôtbiql…ôr t…ôqdim edir…ôm. S…ôxsi inki≈üafƒ±mdan …ôlav…ô, m√ºlk idar…ô√ßiliyini modernl…ô≈üdirm…ôk √º√ß√ºn T√ºrkiy…ô bazarƒ±nda satƒ±≈üa √ßƒ±xacaq v…ô hazƒ±rlanma m…ôrh…ôl…ôsind…ô olan icar…ô izl…ôm…ô v…ô idar…ô etm…ô sistemi - MyHomeTeck adlanan startup layih…ôsinin t…ôsis√ßisiy…ôm. Bu texnoloji s…ôyah…ôtimd…ô m…ôn, h…ôm liderlik, sahibkarlƒ±q v…ô proqram√ßƒ± kimi daim √∂z√ºm√º inki≈üaf etdirir…ôm. Eyni zamanda real probleml…ôri yaradƒ±cƒ± v…ô texnologiyaya …ôsaslanan h…ôll…ôr…ô √ßevirm…ôy…ô √ßalƒ±≈üƒ±ram. H…ôr bir layih…ônin innovasiya, sad…ôlik v…ô real t…ôsirin…ô diqq…ôt yetirm…ôkl…ô yana≈üƒ±ram. Qƒ±sacasƒ±, m…ônim √º√ß√ºn kod yazmaq sad…ôc…ô bir vasit…ôdir - …ôn …ôsasƒ± ideyalarƒ±mƒ± h…ôyata ke√ßirm…ôkdir!",
      skills: "Texniki Bacarƒ±qlar",
    },

    // Work Page
    work: {
      title: "ƒ∞≈ül…ôrim",
      subtitle: "Son layih…ôl…ôrimd…ôn b…ôzil…ôri",
      viewWork: "ƒ∞≈ü…ô Bax",
      learnMore: "∆ètraflƒ± √ñyr…ôn",
      completedProject: "Tamamlanmƒ±≈ü Layih…ô",
      projectOnHold: "Layih…ô G√∂zl…ôm…ôd…ôdir",
      projectClosedByCompany: "Layih…ô ≈üirk…ôt t…ôr…ôfind…ôn baƒülanƒ±b",
      tapToMore: "Daha √ßoxu √º√ß√ºn",
    },

    // Contact Page
    contact: {
      title: "∆èlaq…ô",
      subtitle:
        "G…ôlin …ôlaq…ô saxlayaq v…ô ideyalarƒ±nƒ±zƒ± birlikd…ô h…ôyata ke√ßir…ôk.",
      getInTouch: "∆èlaq…ô Saxla",
      form: {
        description:
          "∆èg…ôr birlikd…ô i≈ül…ôm…ôk v…ô ya etdiyim i≈ül…ôr haqqƒ±nda daha √ßox √∂yr…ônm…ôk ist…ôyirsinizs…ô, m…ôniml…ô …ôlaq…ô saxlamaqdan √ß…ôkinm…ôyin. ∆èlaq…ô saxlamaq v…ô daha …ôtraflƒ± m√ºzakir…ôl…ôr etm…ôk m…ônim √º√ß√ºn xo≈ü olar!",
        email: "E-po√ßt",
        emailPlaceholder: "Z…ôhm…ôt olmasa e-po√ßtunuzu daxil edin",
        mobile: "Mobil",
        mobilePlaceholder: "+90 555 555 55 55",
        message: "Mesaj",
        messagePlaceholder: "Mesajƒ±nƒ±zƒ± daxil edin",
        submit: "G√∂nd…ôr",
        back: "Geri",
      },
      thankYou: {
        title: "T…ô≈ü…ôkk√ºrl…ôr!",
        backToContact: "Geri qayƒ±t",
      },
    },
  },

  tr: {
    // Navigation
    nav: {
      home: "Anasayfa",
      about: "Hakkƒ±mda",
      work: "Projelerim",
      contact: "ƒ∞leti≈üim",
      // Mobile short versions
      homeMobile: "Ana",
      aboutMobile: "Hakkƒ±mda",
      workMobile: "Projelerim",
      contactMobile: "ƒ∞leti≈üim",
    },

    // Loading
    loading: "Y√ºkleniyor",

    // Welcome Page
    welcome: {
      text: "Portfolyoma ho≈ü geldiniz",
    },

    // Home Page
    home: {
      greeting: "Merhaba, ben",
      name: "Fironi<br />Habibzade",
      downloadCV: "CV ƒ∞ndir",
    },

    // About Page
    about: {
      title: "Hakkƒ±mda",
      greeting: "Merhaba, ben",
      name: "Fironi<br />Habibzade",
      description:
        "Selamlar! Ben, Startup giri≈üimine ve dijital √ß√∂z√ºmler olu≈üturmaya kar≈üƒ± g√º√ßl√º bir tutkuya sahip Full Stack Programcƒ±yƒ±m. C, Python, .Net, React, Flutter vb. birden fazla teknoloji yƒ±ƒüƒ±nƒ±nda √ßalƒ±≈üarak temiz ve √∂l√ßeklenebilir mimarilere sahip uygulamalar geli≈ütiriyorum. Ki≈üisel geli≈üimimin yanƒ± sƒ±ra, T√ºrkiye pazarƒ±na sunulacak, emlak y√∂netimini modernize edecek kira takip ve y√∂netim sistemi olan MyHomeTeck adlƒ± bir startup projesinin kurucusuyum. Bu teknoloji yolculuƒüumda kendimi bir lider, giri≈üimci ve programcƒ± olarak s√ºrekli geli≈ütiriyorum. Aynƒ± zamanda ger√ßek sorunlarƒ± yaratƒ±cƒ± ve teknoloji tabanlƒ± √ß√∂z√ºmlere d√∂n√º≈üt√ºrmeye √ßalƒ±≈üƒ±yorum. Her projeye yenilik√ßilik, sadelik ve ger√ßek etki odaklƒ± yakla≈üƒ±yorum. Kƒ±sacasƒ±, kodlama benim i√ßin sadece bir ara√ßtƒ±r; √∂nemli olan fikirlerimi hayata ge√ßirebilmektir!",
      skills: "Teknik Beceriler",
    },

    // Work Page
    work: {
      title: "Projelerim",
      subtitle: "ƒ∞≈üte son projelerim",
      viewWork: "Projeyi G√∂r√ºnt√ºle",
      learnMore: "Daha Fazla √ñƒüren",
      completedProject: "Tamamlanmƒ±≈ü Proje",
      projectOnHold: "Proje Beklemede",
      projectClosedByCompany: "Proje ≈üirket tarafƒ±ndan kapatƒ±ldƒ±",
      tapToMore: "Daha Fazla",
    },

    // Contact Page
    contact: {
      title: "ƒ∞leti≈üim",
      subtitle:
        "Hadi ileti≈üime ge√ßelim ve fikirlerinizi birlikte hayata ge√ßirelim.",
      getInTouch: "ƒ∞leti≈üime Ge√ß",
      form: {
        description:
          "Birlikte √ßalƒ±≈ümak veya yaptƒ±ƒüƒ±m i≈üler hakkƒ±nda daha fazla bilgi edinmek isterseniz, benimle ileti≈üime ge√ßmekten √ßekinmeyin. Baƒülantƒ± kurmak ve daha fazla tartƒ±≈ümak beni mutlu eder.",
        email: "E-posta",
        emailPlaceholder: "L√ºtfen e-postanƒ±zƒ± girin",
        mobile: "Mobil",
        mobilePlaceholder: "+90 555 555 55 55",
        message: "Mesaj",
        messagePlaceholder: "Mesajƒ±nƒ±zƒ± girin",
        submit: "G√∂nder",
        back: "Geri",
      },
      thankYou: {
        title: "Te≈üekk√ºrler!",
        backToContact: "Geri",
      },
    },
  },

  ru: {
    // Navigation
    nav: {
      home: "–ì–ª–∞–≤–Ω–∞—è",
      about: "–û–±–æ –º–Ω–µ",
      work: "–†–∞–±–æ—Ç—ã",
      contact: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
      // Mobile short versions
      homeMobile: "–ì–ª–∞–≤–Ω–∞—è",
      aboutMobile: "–û–±–æ –º–Ω–µ",
      workMobile: "–†–∞–±–æ—Ç—ã",
      contactMobile: "–ö–æ–Ω—Ç–∞–∫—Ç",
    },

    // Loading
    loading: "–ó–∞–≥—Ä—É–∑–∫–∞",

    // Welcome Page
    welcome: {
      text: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ",
    },

    // Home Page
    home: {
      greeting: "–ü—Ä–∏–≤–µ—Ç, —è",
      name: "–§–∏—Ä–æ–Ω–∏<br />–•–∞–±–∏–±–∑–∞–¥–µ",
      downloadCV: "–°–∫–∞—á–∞—Ç—å CV",
    },

    // About Page
    about: {
      title: "–û–±–æ –º–Ω–µ",
      greeting: "–ü—Ä–∏–≤–µ—Ç, —è",
      name: "–§–∏—Ä–æ–Ω–∏<br />–•–∞–±–∏–±–∑–∞–¥–µ",
      description:
        "–ü—Ä–∏–≤–µ—Ç! –Ø Full Stack –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç, —Å—Ç—Ä–∞—Å—Ç–Ω–æ —É–≤–ª–µ—á–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç–∞–ø–∞–º–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π. –Ø —Ä–∞–±–æ—Ç–∞—é —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç–µ–∫–∞–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –≤–∫–ª—é—á–∞—è C, Python, .Net, React, Flutter –∏ —Ç. –¥., —Å–æ–∑–¥–∞–≤–∞—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —á–∏—Å—Ç–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. –ü–æ–º–∏–º–æ –ª–∏—á–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è, —è —è–≤–ª—è—é—Å—å –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–º —Å—Ç–∞—Ä—Ç–∞–ø-–ø—Ä–æ–µ–∫—Ç–∞ MyHomeTeck ‚Äî —Å–∏—Å—Ç–µ–º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Ä–µ–Ω–¥–æ–π, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ —Ç—É—Ä–µ—Ü–∫–æ–º —Ä—ã–Ω–∫–µ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å —Ü–µ–ª—å—é –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é. –ù–∞ —ç—Ç–æ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø—É—Ç–∏ —è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—é—Å—å –∫–∞–∫ –ª–∏–¥–µ—Ä, –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç. –í —Ç–æ –∂–µ –≤—Ä–µ–º—è —è —Å—Ç—Ä–µ–º–ª—é—Å—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è. –Ø –ø–æ–¥—Ö–æ–∂—É –∫ –∫–∞–∂–¥–æ–º—É –ø—Ä–æ–µ–∫—Ç—É, —É–¥–µ–ª—è—è –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏—è–º, –ø—Ä–æ—Å—Ç–æ—Ç–µ –∏ —Ä–µ–∞–ª—å–Ω–æ–º—É —ç—Ñ—Ñ–µ–∫—Ç—É. –ö–æ—Ä–æ—á–µ –≥–æ–≤–æ—Ä—è, –¥–ª—è –º–µ–Ω—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –°–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–∏ –∏–¥–µ–∏!",
      skills: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏",
    },

    // Work Page
    work: {
      title: "–ú–æ–∏ —Ä–∞–±–æ—Ç—ã",
      subtitle: "–í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –º–æ–∏—Ö –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤",
      viewWork: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–±–æ—Ç—É",
      learnMore: "–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ",
      completedProject: "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç",
      projectOnHold: "–ü—Ä–æ–µ–∫—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω",
      projectClosedByCompany: "–ü—Ä–æ–µ–∫—Ç –∑–∞–∫—Ä—ã—Ç –∫–æ–º–ø–∞–Ω–∏–µ–π",
      tapToMore: "–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –±–æ–ª—å—à–µ",
    },

    // Contact Page
    contact: {
      title: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
      subtitle: "–î–∞–≤–∞–π—Ç–µ —Å–≤—è–∂–µ–º—Å—è –∏ –≤–æ–ø–ª–æ—Ç–∏–º –≤–∞—à–∏ –∏–¥–µ–∏ –≤ –∂–∏–∑–Ω—å –≤–º–µ—Å—Ç–µ.",
      getInTouch: "–°–≤—è–∑–∞—Ç—å—Å—è",
      form: {
        description:
          "–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ –∏–ª–∏ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ —Ç–æ–º, —á—Ç–æ —è –¥–µ–ª–∞—é, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è. –Ø –±—É–¥—É —Ä–∞–¥ —Å–≤—è–∑–∞—Ç—å—Å—è –∏ –æ–±—Å—É–¥–∏—Ç—å –¥–∞–ª—å—à–µ.",
        email: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞",
        emailPlaceholder: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É",
        mobile: "–ú–æ–±–∏–ª—å–Ω—ã–π",
        mobilePlaceholder: "+90 555 555 55 55",
        message: "–°–æ–æ–±—â–µ–Ω–∏–µ",
        messagePlaceholder: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
        submit: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å",
        back: "–ù–∞–∑–∞–¥",
      },
      thankYou: {
        title: "–°–ø–∞—Å–∏–±–æ!",
        backToContact: "–ù–∞–∑–∞–¥",
      },
    },
  },
};

// ===== TRANSLATION FUNCTIONS =====
let currentLanguage = "en";

// Make currentLanguage globally accessible
if (typeof window !== "undefined") {
  window.currentLanguage = currentLanguage;
}

function setLanguage(lang) {
  currentLanguage = lang;
  if (typeof window !== "undefined") {
    window.currentLanguage = lang;
  }
  console.log(`üîÑ setLanguage called with: ${lang}`);
  updatePageContent();
  localStorage.setItem("selectedLanguage", lang);
}

// Make setLanguage globally accessible
if (typeof window !== "undefined") {
  window.setLanguage = setLanguage;

  // Add window resize listener to update navigation on screen size change
  window.addEventListener("resize", function () {
    updateNavigation();
  });
}

function getCurrentLanguage() {
  return localStorage.getItem("selectedLanguage") || "en";
}

function translate(key) {
  // Use global currentLanguage if available, otherwise use local
  const lang =
    (typeof window !== "undefined" && window.currentLanguage) ||
    currentLanguage ||
    getCurrentLanguage();

  const keys = key.split(".");
  let value = translations[lang];

  for (const k of keys) {
    if (value && value[k]) {
      value = value[k];
    } else {
      // Fallback to English if translation not found
      value = translations.en;
      for (const k of keys) {
        if (value && value[k]) {
          value = value[k];
        } else {
          return key; // Return key if not found
        }
      }
      break;
    }
  }

  return value || key;
}

function updatePageContent() {
  // Update navigation links
  updateNavigation();

  // Update content based on current page
  updateWelcomePage();
  updateHomePage();
  updateAboutPage();
  updateWorkPage();
  updateContactPage();
  updateLoadingText();
}

function updateNavigation() {
  const navLinks = document.querySelectorAll(".nav-link");
  const isMobile = window.innerWidth <= 480;

  navLinks.forEach((link) => {
    const text = link.textContent.trim();
    if (
      text === "Home" ||
      text === "Ana S…ôhif…ô" ||
      text === "Ana Sayfa" ||
      text === "Anasayfa" ||
      text === "∆èsas" ||
      text === "–ì–ª–∞–≤–Ω–∞—è" ||
      text === "Ana" // Mobile versions
    ) {
      link.textContent = isMobile
        ? translate("nav.homeMobile")
        : translate("nav.home");
    } else if (
      text === "About me" ||
      text === "Haqqƒ±mda" ||
      text === "Hakkƒ±mda" ||
      text === "–û–±–æ –º–Ω–µ" ||
      text === "About" ||
      text === "Haqqƒ±m" ||
      text === "Hakkƒ±m" // Old mobile versions (for backward compatibility)
    ) {
      link.textContent = isMobile
        ? translate("nav.aboutMobile")
        : translate("nav.about");
    } else if (
      text === "Work" ||
      text === "ƒ∞≈ül…ôrim" ||
      text === "√áalƒ±≈ümalarƒ±m" ||
      text === "Projelerim" ||
      text === "–†–∞–±–æ—Ç—ã" ||
      text === "ƒ∞≈ül…ôr" ||
      text === "√áalƒ±≈üma" ||
      text === "Proje" // Old mobile versions (for backward compatibility)
    ) {
      link.textContent = isMobile
        ? translate("nav.workMobile")
        : translate("nav.work");
    } else if (
      text === "Contact" ||
      text === "∆èlaq…ô" ||
      text === "ƒ∞leti≈üim" ||
      text === "–ö–æ–Ω—Ç–∞–∫—Ç—ã" ||
      text === "–ö–æ–Ω—Ç–∞–∫—Ç" // Mobile versions
    ) {
      link.textContent = isMobile
        ? translate("nav.contactMobile")
        : translate("nav.contact");
    }
  });
}

function updateWelcomePage() {
  // Welcome page always stays in English - no translation needed
}

function updateHomePage() {
  const greeting = document.querySelector(".home-page .greeting");
  const downloadBtn = document.querySelector(".download-cv-btn");

  if (greeting) {
    greeting.textContent = translate("home.greeting");
  }

  if (downloadBtn) {
    const icon = downloadBtn.querySelector("i");
    downloadBtn.innerHTML = "";
    if (icon) downloadBtn.appendChild(icon);
    downloadBtn.appendChild(
      document.createTextNode(" " + translate("home.downloadCV"))
    );
  }
}

function updateAboutPage() {
  const aboutTitle = document.querySelector(".about-page .about-title");
  const aboutGreeting = document.querySelector(".about-page .greeting");
  const aboutDescription = document.querySelector(".about-description");
  const skillsTitle = document.querySelector(".skills-title");

  if (aboutTitle) {
    aboutTitle.textContent = translate("about.title");
  }

  if (aboutGreeting) {
    aboutGreeting.textContent = translate("about.greeting");
  }

  if (aboutDescription) {
    // Update the paragraph content with translated text and styling
    const translatedText = translate("about.description");

    // Split text into sentences
    const sentences = translatedText.split(/(?<=[.!?])\s+/);
    const firstSentence = sentences[0] || "";
    const otherSentences = sentences.slice(1).join(" ");

    // Create HTML with styled spans
    aboutDescription.innerHTML = `
      <p>
        <span class="first-sentence">${firstSentence}</span>
        ${
          otherSentences
            ? `<span class="other-sentences"> ${otherSentences}</span>`
            : ""
        }
      </p>
    `;
  }

  if (skillsTitle) {
    skillsTitle.textContent = translate("about.skills");
  }
}

function updateWorkPage() {
  const workTitle = document.querySelector(".work-page .work-title");
  const workSubtitle = document.querySelector(".work-page .work-subtitle");
  const viewWorkBtns = document.querySelectorAll(".view-work-btn");
  const learnMoreBtns = document.querySelectorAll(".learn-more-btn");
  const completedProjectTexts = document.querySelectorAll(
    ".work-page .project-header span:first-child"
  );
  const tapToMoreTexts = document.querySelectorAll(
    ".work-page .tap-overlay span"
  );

  if (workTitle) {
    workTitle.textContent = translate("work.title");
  }

  if (workSubtitle) {
    workSubtitle.textContent = translate("work.subtitle");
  }

  viewWorkBtns.forEach((btn) => {
    btn.textContent = translate("work.viewWork");
  });

  learnMoreBtns.forEach((btn) => {
    btn.textContent = translate("work.learnMore");
  });

  // Update "Completed Project" texts
  completedProjectTexts.forEach((span) => {
    const text = span.textContent.trim();
    if (
      text === "Completed Project" ||
      text === "Tamamlanmƒ±≈ü Proje" ||
      text === "Tamamlanmƒ±≈ü Layih…ô" ||
      text === "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç"
    ) {
      span.textContent = translate("work.completedProject");
    }
    // Update "Project On Hold" texts
    else if (
      text === "Project On Hold" ||
      text === "Proje Beklemede" ||
      text === "Layih…ô G√∂zl…ôm…ôd…ôdir" ||
      text === "–ü—Ä–æ–µ–∫—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
    ) {
      span.textContent = translate("work.projectOnHold");
    }
    // Update "Project closed by company" texts
    else if (
      text === "Project closed by company" ||
      text === "Proje ≈üirket tarafƒ±ndan kapatƒ±ldƒ±" ||
      text === "Layih…ô ≈üirk…ôt t…ôr…ôfind…ôn baƒülanƒ±b" ||
      text === "–ü—Ä–æ–µ–∫—Ç –∑–∞–∫—Ä—ã—Ç –∫–æ–º–ø–∞–Ω–∏–µ–π"
    ) {
      span.textContent = translate("work.projectClosedByCompany");
    }
  });

  // Update "Tap to more" texts
  tapToMoreTexts.forEach((span) => {
    const text = span.textContent.trim();
    if (
      text === "Tap to more" ||
      text === "Daha Fazla" ||
      text === "Daha √ßoxu √º√ß√ºn" ||
      text === "–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –±–æ–ª—å—à–µ"
    ) {
      span.textContent = translate("work.tapToMore");
    }
  });
}

function updateLoadingText() {
  const loadingText = document.querySelector(".slide-overlay .loading-text");
  if (loadingText) {
    loadingText.textContent = translate("loading");
  }
}

function updateContactPage() {
  // Update all contact titles
  const contactTitles = document.querySelectorAll(
    ".contact-page .contact-title"
  );
  contactTitles.forEach((title) => {
    if (title.closest(".contact-form-view")) {
      title.textContent = translate("contact.getInTouch");
    } else {
      title.textContent = translate("contact.title");
    }
  });

  // Update all contact subtitles
  const contactSubtitles = document.querySelectorAll(
    ".contact-page .contact-subtitle"
  );
  contactSubtitles.forEach((subtitle) => {
    if (subtitle.closest(".contact-form-view")) {
      subtitle.textContent = translate("contact.form.description");
    } else {
      subtitle.textContent = translate("contact.subtitle");
    }
  });

  // Update Get In Touch button
  const getInTouchBtn = document.querySelector(".get-in-touch-btn");
  if (getInTouchBtn) {
    const icon = getInTouchBtn.querySelector("i");
    getInTouchBtn.innerHTML = "";
    if (icon) getInTouchBtn.appendChild(icon);
    getInTouchBtn.appendChild(
      document.createTextNode(" " + translate("contact.getInTouch"))
    );
  }

  // Update form labels and placeholders
  updateContactForm();
  updateThankYouPage();
}

function updateContactForm() {
  const emailLabel = document.querySelector('label[for="email"]');
  const emailInput = document.querySelector("#email");
  const mobileLabel = document.querySelector('label[for="mobile"]');
  const mobileInput = document.querySelector("#mobile");
  const messageLabel = document.querySelector('label[for="message"]');
  const messageInput = document.querySelector("#message");
  const submitBtn = document.querySelector(".submit-btn");
  const backBtn = document.querySelector(".back-btn");

  if (emailLabel) emailLabel.textContent = translate("contact.form.email");
  if (emailInput)
    emailInput.placeholder = translate("contact.form.emailPlaceholder");
  if (mobileLabel) mobileLabel.textContent = translate("contact.form.mobile");
  if (mobileInput) mobileInput.placeholder = "";
  if (messageLabel)
    messageLabel.textContent = translate("contact.form.message");
  if (messageInput)
    messageInput.placeholder = translate("contact.form.messagePlaceholder");

  if (submitBtn) {
    const icon = submitBtn.querySelector("i");
    submitBtn.innerHTML = "";
    submitBtn.appendChild(
      document.createTextNode(translate("contact.form.submit") + " ")
    );
    if (icon) submitBtn.appendChild(icon);
  }

  if (backBtn) {
    const icon = backBtn.querySelector("i");
    backBtn.innerHTML = "";
    if (icon) backBtn.appendChild(icon);
    backBtn.appendChild(
      document.createTextNode(" " + translate("contact.form.back"))
    );
  }
}

function updateThankYouPage() {
  const thankYouTitle = document.querySelector(".thank-you-title");
  const backToContactBtn = document.querySelector(".back-to-contact-btn");

  if (thankYouTitle) {
    thankYouTitle.textContent = translate("contact.thankYou.title");
  }

  if (backToContactBtn) {
    const icon = backToContactBtn.querySelector("i");
    backToContactBtn.innerHTML = "";
    if (icon) backToContactBtn.appendChild(icon);
    backToContactBtn.appendChild(
      document.createTextNode(" " + translate("contact.thankYou.backToContact"))
    );
  }
}

// Initialize language on page load
document.addEventListener("DOMContentLoaded", function () {
  currentLanguage = getCurrentLanguage();
  // Small delay to ensure all elements are loaded
  setTimeout(() => {
    updatePageContent();
  }, 100);
});
